import { useState } from 'react';
import { Link, useNavigate } from 'react-router-dom';
import { useAuthStore } from '../stores/authStore';

export default function RegisterPage() {
  const [username, setUsername] = useState('');
  const [password, setPassword] = useState('');
  const [confirm, setConfirm] = useState('');
  const [error, setError] = useState('');
  const [loading, setLoading] = useState(false);
  const register = useAuthStore((s) => s.register);
  const navigate = useNavigate();

  const handleSubmit = async (e) => {
    e.preventDefault();
    setError('');

    if (password !== confirm) {
      setError('Passwords do not match');
      return;
    }

    setLoading(true);
    try {
      await register(username, password);
      navigate('/');
    } catch (err) {
      setError(err.message || 'Registration failed');
    } finally {
      setLoading(false);
    }
  };

  return (
    <div className="h-full flex items-center justify-center p-4">
      <div className="glass-panel p-8 w-full max-w-sm space-y-6">
        <h1 className="font-display text-xl font-bold tracking-wider text-center text-neon-cyan">
          Create Account
        </h1>
        <form onSubmit={handleSubmit} className="space-y-4">
          {error && (
            <p className="text-neon-red text-sm text-center">{error}</p>
          )}
          <div>
            <label className="block text-xs text-white/40 font-mono mb-1">Username</label>
            <input
              type="text"
              value={username}
              onChange={(e) => setUsername(e.target.value)}
              className="w-full px-3 py-2 rounded-lg bg-space-700/60 border border-white/10 text-white font-mono text-sm focus:outline-none focus:border-neon-cyan/50"
              required
              minLength={3}
              maxLength={20}
              pattern="[a-zA-Z0-9_]+"
              title="3-20 characters, letters, numbers, and underscores only"
            />
          </div>
          <div>
            <label className="block text-xs text-white/40 font-mono mb-1">Password</label>
            <input
              type="password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
              className="w-full px-3 py-2 rounded-lg bg-space-700/60 border border-white/10 text-white font-mono text-sm focus:outline-none focus:border-neon-cyan/50"
              required
              minLength={6}
            />
          </div>
          <div>
            <label className="block text-xs text-white/40 font-mono mb-1">Confirm Password</label>
            <input
              type="password"
              value={confirm}
              onChange={(e) => setConfirm(e.target.value)}
              className="w-full px-3 py-2 rounded-lg bg-space-700/60 border border-white/10 text-white font-mono text-sm focus:outline-none focus:border-neon-cyan/50"
              required
              minLength={6}
            />
          </div>
          <button type="submit" disabled={loading} className="btn-primary w-full">
            {loading ? 'Creating...' : 'Create Account'}
          </button>
        </form>
        <p className="text-center text-sm text-white/40">
          Already have an account?{' '}
          <Link to="/login" className="text-neon-cyan hover:underline">Login</Link>
        </p>
      </div>
    </div>
  );
}
